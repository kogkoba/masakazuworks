*{box-sizing:border-box}
body{margin:0;font-family:system-ui,-apple-system,"Segoe UI",Roboto,"Hiragino Kaku Gothic ProN","Noto Sans JP",sans-serif;background:#0b1020;color:#fff}
.wrap{max-width:980px;margin:auto;padding:20px}
h1{margin:0 0 12px}
h2.step{margin:0 0 10px;font-size:18px;opacity:.95}
.card{background:#121a33;border:1px solid #23305a;border-radius:14px;padding:16px;margin-top:16px;box-shadow:0 10px 30px rgba(0,0,0,.25)}
.hidden{display:none}

.toolbar{display:flex;justify-content:flex-end;align-items:center;gap:12px;margin:6px 0 10px}
.today-counter{display:flex;align-items:center;gap:10px}
.today-counter button{padding:6px 10px}

.row{display:flex;gap:8px;flex-wrap:wrap}
.chip{background:#1e2a54;border:1px solid #44548f;color:#fff;padding:10px 16px;border-radius:10px;cursor:pointer;font-weight:600}
.chip:hover{filter:brightness(1.1)}
.chip.primary{background:#4fc3f7;color:#000;border:none;border-radius:10px;padding:10px 16px;font-weight:800;cursor:pointer}

.seg{display:inline-flex;background:#0f1837;border:1px solid #2f3d70;border-radius:10px;overflow:hidden}
.seg-btn{background:transparent;color:#fff;padding:8px 14px;border:none;cursor:pointer}
.seg-btn.active{background:#3a68ff;color:#000;font-weight:700}

.mode-row{display:flex;align-items:center;gap:12px;margin:8px 0}
#weekSelect{padding:8px;border-radius:8px;border:1px solid #44548f;background:#0f1837;color:#fff}

.filters{display:flex;gap:16px;align-items:center;margin:8px 0}
.filters label{opacity:.9}
.filters .spacer{flex:1}

.primary{background:#4fc3f7;color:#000;border:none;border-radius:10px;padding:10px 16px;font-weight:800;cursor:pointer}
.ghost{background:transparent;color:#fff;border:1px solid #7b86b2;border-radius:10px;padding:9px 14px;cursor:pointer}

.start-row{display:flex;align-items:center;gap:12px;margin-top:8px;justify-content:space-between}
.counter{display:flex;align-items:center;gap:10px}

.quiz-header{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}
.q-image-wrap{margin:8px 0}
.q-image-wrap img{max-width:100%;border-radius:10px;border:1px solid #334}
.q-text{font-size:1.1rem;line-height:1.7;margin:8px 0 4px;white-space:pre-wrap}
.answer-row{display:flex;gap:8px;align-items:center}
#answerInput{flex:1;padding:12px;border-radius:10px;border:none;background:#0f1837;color:#fff;font-size:1.05rem}
.feedback{min-height:28px;margin-top:8px}
.feedback.ok{color:#76ff7a}
.feedback.ng{color:#ff8a80}
.nav-row{display:flex;justify-content:space-between;align-items:center;margin-top:8px}

.foot{opacity:.7;margin-top:20px;text-align:center}
